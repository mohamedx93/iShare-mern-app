(this["webpackJsonpreactjs-socialmedia-app"]=this["webpackJsonpreactjs-socialmedia-app"]||[]).push([[0],{157:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t),a.d(t,"store",(function(){return bt}));var n=a(0),r=a(12),c=a.n(r),o=(a(157),a(16)),i=a(62),s=a(129),l=a(85),u=a(9),d="CREATE",p="SEARCH",j="UPDATE",b="DELETE",m="LIKE",h="FETCH_ALL",f="AUTH",x="LOGOUT",g="START_LOADING",O="END_LOADING",v="FETCH_POST";var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return localStorage.setItem("profile",JSON.stringify(Object(u.a)({},null===t||void 0===t?void 0:t.data))),Object(u.a)(Object(u.a)({},e),{},{authData:null===t||void 0===t?void 0:t.data});case x:return localStorage.clear(),Object(u.a)(Object(u.a)({},e),{},{authData:null});default:return e}},w=Object(i.b)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:[],isLoading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!0});case O:return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1});case j:case m:return Object(u.a)(Object(u.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload._id?t.payload:e}))});case h:return Object(u.a)(Object(u.a)({},e),{},{posts:t.payload.data,currentPage:t.payload.currentPage,numberOfPages:t.payload.numberOfPages});case v:return Object(u.a)(Object(u.a)({},e),{},{post:t.payload});case p:return Object(u.a)(Object(u.a)({},e),{},{posts:t.payload});case d:return Object(u.a)(Object(u.a)({},e),{},{posts:[t.payload].concat(Object(l.a)(e.posts))});case b:return Object(u.a)(Object(u.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!==t.payload}))});default:return e}},auth:y}),C=a(45),S=a(14),k=a(245),N=a(238),I=a(24),L=a(235),T=a(236),D=a(254),B=a(214),P=a(237),R=a(23),A=a(233),F="#015D76",W="Poppins",E="Montserrat",_="Oswald",z="Lato",H="Raleway",U="Source Sans Pro",M="".concat(W,",").concat(E,",").concat(_,",").concat(z,",").concat(H,",").concat(U),J=Object(A.a)((function(e){var t;return{appBar:Object(R.a)({backgroundColor:F,borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"10px 50px"},e.breakpoints.down("sm"),{flexDirection:"column"}),heading:{color:e.palette.primary.main,textDecoration:"none",fontSize:"2em",fontWeight:300},image:{marginLeft:"10px",marginTop:"5px"},toolbar:{},navBarRight:(t={display:"flex",justifyContent:"space-between",width:"400px"},Object(R.a)(t,e.breakpoints.down("sm"),{width:"auto",marginTop:20,justifyContent:"center"}),Object(R.a)(t,"alignItems","center"),t),profile:{display:"flex",justifyContent:"flex-start",alignItems:"center"},logout:{marginLeft:"20px"},userName:{display:"flex",alignItems:"center",textAlign:"center",marginLeft:"1.6rem",fontFamily:U,fontSize:"1.6rem",color:"white"},brandContainer:{display:"flex",alignItems:"center"},avatar:{backgroundColor:"#1D2A34",color:e.palette.getContrastText("#1D2A34")}}})),G=(a.p,a.p,a.p+"static/media/logo.8d8bcb83.svg"),Q=a(49),V=a(134),Y=a(2);var q=function(){var e=Object(n.useState)(null),t=Object(I.a)(e,2),a=t[0],r=t[1],c=J(),i=Object(o.b)(),s=Object(Q.useHistory)(),l=Object(Q.useLocation)(),u=function(){i({type:x}),s.push("/"),r(null)};return Object(n.useEffect)((function(){r(JSON.parse(localStorage.getItem("profile")))}),[l]),Object(n.useEffect)((function(){(function(){var e,t=!1,n=null===a||void 0===a?void 0:a.token;if(!n)return!1;e=Object(V.a)(n);var r=new Date;return e.exp<r.getTime()&&(t=!0),t})()&&u()}),[]),Object(Y.jsxs)(L.a,{className:c.appBar,position:"static",color:"inherit",children:[Object(Y.jsx)(Q.Link,{to:"/",className:c.brandContainer,children:Object(Y.jsx)("img",{src:G,alt:"icon",height:"60px"})}),Object(Y.jsx)(T.a,{className:c.toolbar,children:a?Object(Y.jsxs)("div",{className:c.navBarRight,children:[Object(Y.jsxs)("div",{className:c.profile,children:[Object(Y.jsx)(D.a,{className:c.avatar,alt:a.result.name,src:a.result.imageUrl}),Object(Y.jsx)(B.a,{className:c.userName,variant:"h6",children:a.result.name})]}),Object(Y.jsx)(P.a,{variant:"contained",className:c.logout,color:"secondary",onClick:u,children:"Logout"})]}):Object(Y.jsx)(P.a,{component:Q.Link,to:"/auth",variant:"contained",color:"secondary",style:{fontSize:"18px",fontWeight:"500",fontFamily:H},children:"Sign In"})})]})},K=a(136),Z=a.n(K),X=a(253),$=a(244),ee=a(251),te=a(145),ae=Object(A.a)({media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken",backgroundSize:"cover"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"},likesComponent:{textTransform:"initial",fontSize:"0.75rem",color:F,marginLeft:".5rem"},cardAction:{display:"block",textAlign:"initial"}}),ne=a(239),re=a(147),ce=a(240),oe=a(241),ie=a(242),se=a(140),le=a.n(se),ue=a(139),de=a.n(ue),pe=a(84),je=a.n(pe),be=a(13),me=a.n(be),he=a(20),fe=a(137),xe=a.n(fe).a.create({baseURL:"https://mern-ishare-app.herokuapp.com/"});xe.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}),(function(e){return Promise.reject(e)}));var ge=function(e){return xe.get("/posts?page=".concat(e))},Oe=function(e){return xe.get("/posts/".concat(e))},ve=function(e){return xe.get("/posts/search?searchQuery=".concat(e.search||"none","&searchTags=").concat(e.searchTags))},ye=function(e,t){return xe.patch("/posts/".concat(e),t)},we=function(e){return xe.delete("/posts/".concat(e))},Ce=function(e){return xe.patch("/posts/".concat(e,"/likePost"))},Se=function(e){return xe.post("/user/signin",e)},ke=function(e){return xe.post("/user/signup",e)},Ne=function(e){return function(){var t=Object(he.a)(me.a.mark((function t(a){var n,r;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:g}),t.next=4,ve(e);case 4:n=t.sent,r=n.data.data,a({type:p,payload:r}),a({type:O}),console.log("search result:",r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("post action:",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},Ie=function(e){return function(){var t=Object(he.a)(me.a.mark((function t(a){var n,r;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c=e,xe.post("/posts",c);case 3:n=t.sent,r=n.data,a({type:d,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}var c}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Le=function(e,t){return function(){var a=Object(he.a)(me.a.mark((function a(n){var r,c;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ye(e,t);case 3:r=a.sent,c=r.data,n({type:j,payload:c}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},Te=a(138),De=a.n(Te),Be=a(101),Pe=a.n(Be);function Re(e){var t=e.likes,a=e.user,n=e.className,r=t.length,c=r-1,o=1===r?"You like this":"You and ".concat(c," ").concat(1===c?"other":"others"," like this");return r>0?t.find((function(e){return e===(null===a||void 0===a?void 0:a._id)||e===(null===a||void 0===a?void 0:a.googleId)}))?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(De.a,{fontSize:"small",style:{fill:"#015d76"}}),Object(Y.jsxs)(B.a,{className:n,children:[o,"\xa0"]})]}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Pe.a,{fontSize:"small",style:{fill:"#015d76"}}),Object(Y.jsxs)(B.a,{className:n,children:[r,"\xa0",1!==r?"Likes":"Like","\xa0"]})]}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(Pe.a,{fontSize:"small",style:{fill:"#015d76"}}),Object(Y.jsx)(B.a,{className:n,children:"\xa0Like\xa0"})]})}function Ae(e){var t,a=e.post,r=e.setCurrentId,c=Object(o.b)(),i=ae(),s=Object(S.useHistory)(),l=Object(n.useState)(null===(t=JSON.parse(localStorage.getItem("profile")))||void 0===t?void 0:t.result),u=Object(I.a)(l,2),d=u[0];u[1];return Object(Y.jsxs)(ne.a,{className:i.card,raised:!0,elevation:6,children:[Object(Y.jsxs)(re.a,{name:"test",component:"span",className:i.cardAction,onClick:function(){s.push("/posts/".concat(a._id))},children:[Object(Y.jsx)(ce.a,{className:i.media,image:a.selectedFile,title:a.title}),Object(Y.jsxs)("div",{className:i.overlay,children:[Object(Y.jsx)(B.a,{variant:"h6",children:a.creatorName}),Object(Y.jsx)(B.a,{variant:"body1",children:je()(a.createDate).fromNow()})]}),((null===d||void 0===d?void 0:d._id)===a.creatorId||(null===d||void 0===d?void 0:d.googleId)===a.creatorId)&&Object(Y.jsx)("div",{className:i.overlay2,children:Object(Y.jsx)(P.a,{style:{color:"white"},size:"small",onClick:function(){r(a._id)},children:Object(Y.jsx)(de.a,{fontSize:"medium"})})}),Object(Y.jsx)("div",{className:i.details,children:Object(Y.jsx)(B.a,{variant:"body2",color:"textSecondary",children:a.tags.map((function(e){return"#".concat(e," ")}))})}),Object(Y.jsx)(B.a,{variant:"h5",className:i.title,gutterBottom:!0,children:a.title}),Object(Y.jsx)(oe.a,{children:Object(Y.jsx)(B.a,{variant:"body2",color:"textSecondary",component:"p",children:a.message})})]}),Object(Y.jsxs)(ie.a,{className:i.cardActions,children:[Object(Y.jsx)(P.a,{size:"small",color:"primary",disabled:!d,onClick:function(){var e;c((e=a._id,function(){var t=Object(he.a)(me.a.mark((function t(a){var n,r;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ce(e);case 3:n=t.sent,r=n.data,a({type:m,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))},children:Object(Y.jsx)(Re,{className:i.likesComponent,likes:a.likes,user:d})}),(null===d||void 0===d?void 0:d._id)===a.creatorId||(null===d||void 0===d?void 0:d.googleId)===a.creatorId?Object(Y.jsxs)(P.a,{size:"small",color:"primary",onClick:function(){var e;c((e=a._id,function(){var t=Object(he.a)(me.a.mark((function t(a){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,we(e);case 3:a({type:b,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()))},children:[Object(Y.jsx)(le.a,{fontSize:"small"}),"\xa0Delete"]}):null]})]})}var Fe=a(243),We=Object(A.a)((function(e){return{mainContainer:{flexDirection:"row",flexWrap:"wrap"},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"}}}));function Ee(e){var t=e.setCurrentId,a=We(),n=Object(o.c)((function(e){return e.posts})),r=n.posts,c=n.isLoading;return console.log("posts Component",c),c||(null===r||void 0===r?void 0:r.length)?c?Object(Y.jsx)(Fe.a,{}):Object(Y.jsx)($.a,{className:a.mainContainer,container:!0,alignItems:"stretch",spacing:3,children:r.map((function(e){return Object(Y.jsx)($.a,{item:!0,xs:12,md:4,lg:3,children:Object(Y.jsx)(Ae,{post:e,setCurrentId:t})},e._id)}))}):Object(Y.jsx)(B.a,{variant:"h3",color:"textSecondary",children:"No posts"})}var _e=Object(A.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{margin:e.spacing(2,0,2,0),padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10},buttonClear:{color:"#ff8f00"}}})),ze=a(141),He=a.n(ze);function Ue(e){var t,a=e.currentId,r=e.setCurrentId,c=Object(n.useState)({title:"",message:"",tags:"",selectedFile:""}),i=Object(I.a)(c,2),s=i[0],l=i[1],d=Object(o.c)((function(e){return a?e.posts.posts.find((function(e){return e._id===a})):null})),p=_e(),j=Object(o.b)(),b=JSON.parse(localStorage.getItem("profile"));Object(n.useEffect)((function(){d&&l(d)}),[d]);var m=function(){var e=Object(he.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),j(a?Le(a,s):Ie(Object(u.a)(Object(u.a)({},s),{},{creatorName:null===b||void 0===b||null===(n=b.result)||void 0===n?void 0:n.name}))),h();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){r(null),l({title:"",message:"",tags:"",selectedFile:""})};return(null===b||void 0===b||null===(t=b.result)||void 0===t?void 0:t.name)?Object(Y.jsx)(te.a,{className:p.paper,elevation:6,children:Object(Y.jsxs)("form",{autoComplete:"off",noValidate:!0,className:"".concat(p.root," ").concat(p.form),onSubmit:m,action:"",children:[Object(Y.jsxs)(B.a,{variant:"h6",children:[a?"Editing":"Creating"," a Memory"]}),Object(Y.jsx)(ee.a,{fullWidth:!0,variant:"outlined",name:"title",label:"Title",value:s.title,onChange:function(e){return l(Object(u.a)(Object(u.a)({},s),{},{title:e.target.value}))}}),Object(Y.jsx)(ee.a,{fullWidth:!0,variant:"outlined",name:"message",label:"Message",value:s.message,onChange:function(e){return l(Object(u.a)(Object(u.a)({},s),{},{message:e.target.value}))}}),Object(Y.jsx)(ee.a,{fullWidth:!0,variant:"outlined",name:"tags",label:"Tags",value:s.tags,onChange:function(e){return l(Object(u.a)(Object(u.a)({},s),{},{tags:e.target.value.split(",")}))}}),Object(Y.jsxs)("div",{className:p.fileInput,children:[Object(Y.jsx)(He.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return l(Object(u.a)(Object(u.a)({},s),{},{selectedFile:t}))}}),Object(Y.jsx)("img",{width:"48px",height:"48px",src:s.selectedFile,alt:"thumbnail"})]}),Object(Y.jsx)(P.a,{className:p.buttonSubmit,variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:"Submit"}),Object(Y.jsx)(P.a,{className:p.buttonClear,variant:"outlined",color:"secondary",onClick:h,fullWidth:!0,children:"Clear"})]})}):Object(Y.jsx)(te.a,{className:p.paper,children:Object(Y.jsx)(B.a,{variant:"h6",align:"center",children:"Please Sign In to create your own memories and like other's memories"})})}var Me=a(255),Je=a(252),Ge=Object(A.a)((function(){return{ul:{justifyContent:"space-around"}}}));function Qe(e){var t=e.page,a=Object(o.c)((function(e){return e.posts})).numberOfPages,r=Ge(),c=Object(o.b)();return Object(n.useEffect)((function(){t&&c(function(e){return function(){var t=Object(he.a)(me.a.mark((function t(a){var n,r;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:g}),t.next=4,ge(e);case 4:n=t.sent,r=n.data,a({type:h,payload:r}),a({type:O}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("post action:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[t]),Object(Y.jsx)(Me.a,{classes:{ul:r.ul},count:a,page:Number(t)||1,variant:"outlined",color:"primary",renderItem:function(e){return Object(Y.jsx)(Je.a,Object(u.a)(Object(u.a)({},e),{},{component:C.b,to:"/posts?page=".concat(e.page)}))}})}var Ve=Object(A.a)((function(e){return{mainContainer:Object(R.a)({},e.breakpoints.down("xs"),{flexDirection:"column-reverse"}),appBarSearch:{borderRadius:4,marginBottom:"1rem",display:"flex",padding:"16px"},pagination:{borderRadius:4,marginTop:"1rem",padding:"16px"}}}));var Ye=function(){var e=Ve(),t=Object(o.b)(),a=new URLSearchParams(Object(S.useLocation)().search),r=Object(S.useHistory)(),c=a.get("page")||1,i=a.get("searchQuery"),s=Object(n.useState)(""),u=Object(I.a)(s,2),d=u[0],p=u[1],j=Object(n.useState)([]),b=Object(I.a)(j,2),m=b[0],h=b[1],f=Object(n.useState)(null),x=Object(I.a)(f,2),g=x[0],O=x[1];console.log("home component");var v=function(){d.trim()||m.length>0?(t(Ne({search:d,searchTags:m.join(",")})),r.push("/posts/search?searchQuery=".concat(d||"none","&tags=").concat(m.join(",")))):r.push("/")};return Object(Y.jsx)(X.a,{in:!0,children:Object(Y.jsx)(k.a,{maxWidth:"xl",children:Object(Y.jsxs)($.a,{className:e.mainContainer,container:!0,spacing:3,justifyContent:"space-between",alignItems:"stretch",children:[Object(Y.jsx)($.a,{item:!0,xs:12,sm:6,md:9,children:Object(Y.jsx)(Ee,{setCurrentId:O})}),Object(Y.jsxs)($.a,{item:!0,xs:12,sm:6,md:3,children:[Object(Y.jsxs)(L.a,{className:e.appBarSearch,position:"static",color:"inherit",children:[Object(Y.jsx)(ee.a,{name:"search",variant:"outlined",label:"Search Memories",fullWidth:!0,value:d,onKeyPress:function(e){13===e.keyCode&&v()},onChange:function(e){return p(e.target.value)}}),Object(Y.jsx)(Z.a,{style:{margin:"10px 0"},value:m,onAdd:function(e){return h([].concat(Object(l.a)(m),[e]))},onDelete:function(e){return h(m.filter((function(t){return t!==e})))},label:"Search Tags",variant:"outlined"}),Object(Y.jsx)(P.a,{onClick:v,className:e.searchButton,color:"primary",variant:"contained",children:"Search"})]}),Object(Y.jsx)(Ue,{currentId:g,setCurrentId:O}),!i&&!m.length&&Object(Y.jsx)(te.a,{elevation:6,className:e.pagination,children:Object(Y.jsx)(Qe,{page:c})})]})]})})})},qe=a(143),Ke=a.n(qe),Ze=a(142),Xe=a(246),$e=a(247),et=a(248),tt=a(249);function at(e){var t=e.half,a=e.name,n=e.handleChange,r=e.label,c=e.autoFocus,o=e.type,i=e.handleShowPassword;return Object(Y.jsx)($.a,{item:!0,xs:12,sm:t?6:12,children:Object(Y.jsx)(ee.a,{name:a,onChange:n,variant:"outlined",required:!0,fullWidth:!0,label:r,autoFocus:c,type:o,InputProps:"password"===a.toLowerCase()?{endAdornment:Object(Y.jsx)(Xe.a,{position:"end",children:Object(Y.jsx)($e.a,{onClick:i,children:"password"===o?Object(Y.jsx)(et.a,{}):Object(Y.jsx)(tt.a,{})})})}:null})})}var nt=function(){return Object(Y.jsx)("svg",{style:{width:"20px",height:"20px"},viewBox:"0 0 24 24",children:Object(Y.jsx)("path",{fill:"currentColor",d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z"})})},rt=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),ct={firstName:"",lastName:"",email:"",password:"",confirmPassword:""};function ot(){var e=rt(),t=Object(n.useState)(!1),a=Object(I.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(!1),s=Object(I.a)(i,2),l=s[0],d=s[1],p=Object(n.useState)(ct),j=Object(I.a)(p,2),b=j[0],m=j[1],h=Object(o.b)(),x=Object(Q.useHistory)(),g=function(e){m(Object(u.a)(Object(u.a)({},b),{},Object(R.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(he.a)(me.a.mark((function e(t){var a,n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=null===t||void 0===t?void 0:t.profileObj,n=null===t||void 0===t?void 0:t.tokenId;try{h({type:"AUTH",data:{result:a,token:n}}),x.push("/")}catch(r){console.log(r)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Y.jsx)(k.a,{component:"main",maxWidth:"xs",children:Object(Y.jsxs)(te.a,{className:e.paper,elevation:3,children:[Object(Y.jsx)(D.a,{className:e.avatar,children:Object(Y.jsx)(Ke.a,{})}),Object(Y.jsx)(B.a,{variant:"h5",children:l?"Sign Up":"Sign In"}),Object(Y.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault(),h(l?function(e,t){return function(){var a=Object(he.a)(me.a.mark((function a(n){var r,c;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ke(e);case 3:r=a.sent,c=r.data,n({type:f,data:c}),t.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(b,x):function(e,t){return function(){var a=Object(he.a)(me.a.mark((function a(n){var r,c;return me.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Se(e);case 3:r=a.sent,c=r.data,n({type:f,data:c}),t.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(b,x))},children:[Object(Y.jsxs)($.a,{container:!0,spacing:2,children:[l&&Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(at,{name:"firstName",label:"First Name",handleChange:g,autoFocus:!0,half:!0}),Object(Y.jsx)(at,{name:"lastName",label:"Last Name",handleChange:g,half:!0})]}),Object(Y.jsx)(at,{name:"email",label:"Email Address",handleChange:g,type:"email"}),Object(Y.jsx)(at,{name:"password",label:"Password",handleChange:g,type:r?"text":"password",handleShowPassword:function(){c((function(e){return!e}))}}),l&&Object(Y.jsx)(at,{name:"confirmPassword",label:"Repeat Password",handleChange:g,type:"password"})]}),Object(Y.jsx)(P.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:l?"Sign Up":"Sign In"}),Object(Y.jsx)(Ze.GoogleLogin,{clientId:"401269994258-524s8igilpeebjga0ltfrt49anv8e118.apps.googleusercontent.com",render:function(t){return Object(Y.jsx)(P.a,{fullWidth:!0,className:e.googleButton,color:"primary",onClick:t.onClick,disabled:t.disabled,startIcon:Object(Y.jsx)(nt,{}),variant:"contained",children:"Google Sign In"})},onSuccess:O,onFailure:function(e){console.log("Google Sign in failed:\n".concat(e))},cookiePolicy:"single_host_origin"}),Object(Y.jsx)($.a,{container:!0,justifyContent:"flex-end",children:Object(Y.jsx)(P.a,{style:{fontSize:".8rem",fontWeight:"400",color:F},onClick:function(){d((function(e){return!e})),c(!1)},children:l?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})]})})}var it=a(250),st=Object(A.a)((function(e){var t;return{media:{borderRadius:"20px",maxWidth:"100%",maxHeight:"600px"},imageSection:(t={marginLeft:"20px",maxWidth:"50vw"},Object(R.a)(t,e.breakpoints.down("sm"),{marginLeft:0,maxWidth:"100vw"}),Object(R.a)(t,"alignSelf","center"),t),card:Object(R.a)({display:"flex",width:"100%"},e.breakpoints.down("sm"),{flexWrap:"wrap",flexDirection:"column"}),section:{borderRadius:"20px",margin:"10px",flex:1},recommendedPosts:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-evenly"},loadingPaper:{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",borderRadius:"15px",height:"39vh"}}})),lt=a.p+"static/media/no_img.09cb794a.png";var ut=function(){var e=Object(o.c)((function(e){return e.posts})),t=e.post,a=e.posts,r=e.isLoading,c=Object(o.b)(),i=Object(S.useHistory)(),s=st(),l=Object(S.useParams)().id;if(Object(n.useEffect)((function(){c(function(e){return function(){var t=Object(he.a)(me.a.mark((function t(a){var n,r;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:g}),t.next=4,Oe(e);case 4:n=t.sent,r=n.data,a({type:v,payload:r}),a({type:O}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("post action:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(l))}),[l]),Object(n.useEffect)((function(){t&&c(Ne({search:"none",searchTags:null===t||void 0===t?void 0:t.tags.join(",")}))}),[t]),!t)return null;if(r)return Object(Y.jsx)(te.a,{elevation:6,className:s.loadingPaper,children:Object(Y.jsx)(Fe.a,{size:"7em"})});var u=a.filter((function(e){return e._id!==t._id}));return Object(Y.jsxs)(te.a,{style:{padding:"20px",borderRadius:"15px"},elevation:6,children:[Object(Y.jsxs)("div",{className:s.card,children:[Object(Y.jsxs)("div",{className:s.section,children:[Object(Y.jsx)(B.a,{variant:"h3",component:"h2",children:null===t||void 0===t?void 0:t.title}),Object(Y.jsx)(B.a,{gutterBottom:!0,variant:"h6",color:"textSecondary",component:"h2",children:null===t||void 0===t?void 0:t.tags.map((function(e){return"#".concat(e," ")}))}),Object(Y.jsx)(B.a,{gutterBottom:!0,variant:"body1",component:"p",children:null===t||void 0===t?void 0:t.message}),Object(Y.jsxs)(B.a,{variant:"h6",children:["Created by: ",null===t||void 0===t?void 0:t.creatorName]}),Object(Y.jsx)(B.a,{variant:"body1",children:je()(null===t||void 0===t?void 0:t.createdAt).fromNow()}),Object(Y.jsx)(it.a,{style:{margin:"20px 0"}}),Object(Y.jsx)(B.a,{variant:"body1",children:Object(Y.jsx)("strong",{children:"Realtime Chat - coming soon!"})}),Object(Y.jsx)(it.a,{style:{margin:"20px 0"}}),Object(Y.jsx)(B.a,{variant:"body1",children:Object(Y.jsx)("strong",{children:"Comments - coming soon!"})}),Object(Y.jsx)(it.a,{style:{margin:"20px 0"}})]}),Object(Y.jsx)("div",{className:s.imageSection,children:Object(Y.jsx)("img",{className:s.media,src:t.selectedFile||lt,alt:t.title})})]}),u.length>0&&Object(Y.jsxs)("div",{className:s.section,children:[Object(Y.jsx)(B.a,{gutterBottom:!0,variant:"h5",children:"You might also like:"}),Object(Y.jsx)(it.a,{}),Object(Y.jsx)("div",{className:s.recommendedPosts,children:u.map((function(e){var t=e.title,a=e.message,n=e.creatorName,r=e.likes,c=e.selectedFile,o=e._id;return Object(Y.jsxs)("div",{style:{margin:"20px",cursor:"pointer"},onClick:function(){return function(e){return i.push("/posts/".concat(e))}(o)},children:[Object(Y.jsx)(B.a,{gutterButton:!0,variant:"h6",children:t}),Object(Y.jsx)(B.a,{gutterButton:!0,variant:"subtitle2",children:n}),Object(Y.jsx)(B.a,{gutterButton:!0,variant:"subtitle2",children:a}),Object(Y.jsxs)(B.a,{gutterButton:!0,variant:"subtitle1",children:["Likes: ",r.length]}),Object(Y.jsx)("img",{src:c,alt:lt,height:"200px",width:"200px"})]},o)}))})]})]})},dt=a(144),pt=Object(dt.a)({palette:{primary:{main:F},secondary:{main:"#EBBE0B"}},fontFamily:M,typography:{button:{fontSize:"1.1rem",fontWeight:"400",fontFamily:W,textTransform:"none"}}});function jt(){var e,t=null===(e=JSON.parse(localStorage.getItem("profile")))||void 0===e?void 0:e.result;return Object(Y.jsx)(N.a,{theme:pt,children:Object(Y.jsx)(C.a,{children:Object(Y.jsxs)(k.a,{maxWidth:"xl",children:[Object(Y.jsx)(q,{}),Object(Y.jsxs)(S.Switch,{children:[Object(Y.jsx)(S.Route,{path:"/",exact:!0,component:function(){return Object(Y.jsx)(S.Redirect,{to:"/posts"})}}),Object(Y.jsx)(S.Route,{path:"/posts",exact:!0,component:Ye}),Object(Y.jsx)(S.Route,{path:"/posts/search",exact:!0,component:Ye}),Object(Y.jsx)(S.Route,{path:"/posts/:id",component:ut}),Object(Y.jsx)(S.Route,{path:"/auth",exact:!0,component:function(){return t?Object(Y.jsx)(S.Redirect,{to:"/posts"}):Object(Y.jsx)(ot,{})}})]})]})})})}var bt=Object(i.d)(w,Object(i.c)(Object(i.a)(s.a)));c.a.render(Object(Y.jsx)(o.a,{store:bt,children:Object(Y.jsx)(jt,{})}),document.getElementById("root"))}},[[209,1,2]]]);
//# sourceMappingURL=main.8126c182.chunk.js.map